# Download Guide - What Files Do You Need?

This guide explains which files to download for different use cases.

---

## Quick Answer

### To Run Executor Only

**Minimum Files** (~20 files, <500 KB):
```
GNX_final/
â”œâ”€â”€ project_paths.py                    # Path configuration
â”œâ”€â”€ compiler/                           # Needed by executor
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ graph_loader.py            # Dataset loading
â”‚   â””â”€â”€ output/
â”‚       â””â”€â”€ compilation_result.json     # â­ MUST HAVE (generated by compiler)
â”‚
â””â”€â”€ executer/                           # Executor module
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ executor.py
    â”œâ”€â”€ subgraph_executor.py
    â”œâ”€â”€ data_loader.py
    â”œâ”€â”€ model_manager.py
    â”œâ”€â”€ model_export_utils.py
    â”œâ”€â”€ ghost_node_handler.py
    â”œâ”€â”€ test_executor.py
    â””â”€â”€ README.md
```

### To Run Complete Pipeline

**All Files** (~100 files, <5 MB without datasets):
- Everything in the repository
- Includes profiling, compiler, executor, and automation scripts

---

## Detailed Breakdown

### 1. Executor Only (Minimal)

**Use Case**: You already have `compilation_result.json` from compiler

**Required Files**:

```
GNX_final/
â”œâ”€â”€ project_paths.py                    # REQUIRED - Path management
â”‚
â”œâ”€â”€ compiler/                           # Partial - Only for graph loading
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ graph_loader.py            # REQUIRED - Dataset loading
â”‚   â””â”€â”€ output/
â”‚       â””â”€â”€ compilation_result.json     # REQUIRED - From compiler
â”‚
â””â”€â”€ executer/                           # REQUIRED - Complete directory
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ executor.py                     # Main orchestrator
    â”œâ”€â”€ subgraph_executor.py            # Subgraph execution
    â”œâ”€â”€ data_loader.py                  # Graph partitioning
    â”œâ”€â”€ model_manager.py                # Model management
    â”œâ”€â”€ model_export_utils.py           # ONNX export
    â”œâ”€â”€ ghost_node_handler.py           # Ghost node features
    â”œâ”€â”€ test_executor.py                # Test script
    â””â”€â”€ README.md                       # Documentation
```

**Total**: ~20 files, <500 KB

**How to Run**:
```bash
cd GNX_final/executer
python test_executor.py
```

**Prerequisites**:
1. Must have `compiler/output/compilation_result.json`
2. Must install dependencies:
   ```bash
   pip install torch torch-geometric torch-scatter onnxruntime numpy
   ```

---

### 2. Compiler Only

**Use Case**: You want to generate execution plans

**Required Files**:

```
GNX_final/
â”œâ”€â”€ project_paths.py                    # REQUIRED - Path management
â”‚
â”œâ”€â”€ profiling/                          # Partial - Only results
â”‚   â””â”€â”€ results/
â”‚       â””â”€â”€ lookup_table.json           # REQUIRED - Profiling data
â”‚
â””â”€â”€ compiler/                           # REQUIRED - Complete directory
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ core/                           # All core algorithms
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ graph_partitioner.py
    â”‚   â”œâ”€â”€ pep_generator.py
    â”‚   â”œâ”€â”€ cost_estimator.py
    â”‚   â””â”€â”€ global_optimizer.py
    â”œâ”€â”€ utils/                          # All utilities
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ config.py
    â”‚   â”œâ”€â”€ graph_loader.py
    â”‚   â”œâ”€â”€ profiling_loader.py
    â”‚   â””â”€â”€ interpolator.py
    â”œâ”€â”€ compiler.py
    â”œâ”€â”€ test_compiler_flickr.py
    â””â”€â”€ README.md
```

**Total**: ~30 files, <1 MB

**How to Run**:
```bash
cd GNX_final/compiler
python test_compiler_flickr.py
```

**Output**: `output/compilation_result.json`

---

### 3. Complete Pipeline (Recommended)

**Use Case**: Run everything from scratch

**Required Files**: **All files in repository**

```
GNX_final/
â”œâ”€â”€ README.md
â”œâ”€â”€ project_paths.py
â”œâ”€â”€ run_pipeline.py                     # â­ One-command execution
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ profiling/                          # Complete profiling module
â”‚   â”œâ”€â”€ profile_stages.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ Model_sage.py
â”‚   â””â”€â”€ test_cases.json
â”‚
â”œâ”€â”€ compiler/                           # Complete compiler module
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ graph_partitioner.py
â”‚   â”‚   â”œâ”€â”€ pep_generator.py
â”‚   â”‚   â”œâ”€â”€ cost_estimator.py
â”‚   â”‚   â””â”€â”€ global_optimizer.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ graph_loader.py
â”‚   â”‚   â”œâ”€â”€ profiling_loader.py
â”‚   â”‚   â””â”€â”€ interpolator.py
â”‚   â”œâ”€â”€ compiler.py
â”‚   â””â”€â”€ test_compiler_flickr.py
â”‚
â””â”€â”€ executer/                           # Complete executor module
    â”œâ”€â”€ executor.py
    â”œâ”€â”€ subgraph_executor.py
    â”œâ”€â”€ data_loader.py
    â”œâ”€â”€ model_manager.py
    â”œâ”€â”€ model_export_utils.py
    â”œâ”€â”€ ghost_node_handler.py
    â””â”€â”€ test_executor.py
```

**Total**: ~100 files, <5 MB (without datasets)

**How to Run**:
```bash
python run_pipeline.py
```

---

## File Size Reference

| Component | Files | Size (approx) |
|-----------|-------|---------------|
| `project_paths.py` | 1 | 5 KB |
| `profiling/` | ~20 | 500 KB |
| `compiler/` | ~30 | 1 MB |
| `executer/` | ~10 | 300 KB |
| Documentation | ~10 | 500 KB |
| Scripts | ~5 | 50 KB |
| **Total** | **~100** | **<5 MB** |

*Excludes datasets (PyG auto-downloads)*

---

## Dependency Files

### What Gets Auto-Downloaded

When you run the code, these are **automatically downloaded** by PyTorch Geometric:

```
~/.pyg/datasets/
â””â”€â”€ Flickr/                             # ~200 MB
    â”œâ”€â”€ raw/
    â””â”€â”€ processed/
```

**You don't need to download datasets manually!**

---

## Critical Files

### Must Have for Executor

1. **`project_paths.py`** - Path configuration
2. **`compiler/output/compilation_result.json`** - Compilation result
3. **`compiler/utils/graph_loader.py`** - Dataset loading
4. **`executer/*.py`** - All executor files

### Must Have for Compiler

1. **`project_paths.py`** - Path configuration
2. **`profiling/results/lookup_table.json`** - Profiling data
3. **`compiler/*.py`** - All compiler files

---

## Download Scenarios

### Scenario 1: Testing Executor (Already Have Compilation Result)

**Download**:
```bash
# Option 1: Clone entire repo
git clone https://github.com/your-repo/GNN_Compiler.git

# Option 2: Download specific files
curl -O <repo>/project_paths.py
curl -O <repo>/compiler/utils/graph_loader.py
curl -O <repo>/compiler/output/compilation_result.json
# ... download all executer/ files
```

**Or use GitHub's "Download ZIP" for specific folders**

---

### Scenario 2: Running Complete Pipeline

**Download**:
```bash
# Clone entire repository
git clone https://github.com/your-repo/GNN_Compiler.git
cd GNN_Compiler

# Install dependencies
pip install torch torch-geometric torch-scatter onnxruntime numpy scipy networkx metis

# Run profiling (first time only)
cd profiling
python profile_stages.py --all
cd ..

# Run complete pipeline
python run_pipeline.py
```

---

### Scenario 3: Just Want to See the Code

**Download**:
- `README.md` - Project overview
- `compiler/README.md` - Compiler documentation
- `executer/README.md` - Executor documentation
- Any `.py` files you want to study

**Total**: <100 KB for documentation

---

## Verification Checklist

After downloading, verify you have the essentials:

### For Executor
```bash
# Check essential files
ls project_paths.py                     # Should exist
ls compiler/utils/graph_loader.py       # Should exist
ls compiler/output/compilation_result.json  # Should exist
ls executer/executor.py                 # Should exist
ls executer/model_export_utils.py       # Should exist

# Test import
python -c "import project_paths; print('âœ“ Paths OK')"
python -c "from executer import PipelineExecutor; print('âœ“ Executor OK')"
```

### For Compiler
```bash
# Check essential files
ls project_paths.py                     # Should exist
ls profiling/results/lookup_table.json  # Should exist (or run profiling)
ls compiler/compiler.py                 # Should exist
ls compiler/core/global_optimizer.py    # Should exist

# Test import
python -c "import project_paths; print('âœ“ Paths OK')"
python -c "from compiler import GNNCompiler; print('âœ“ Compiler OK')"
```

---

## GitHub Download Options

### Option 1: Clone Entire Repo (Recommended)

```bash
git clone https://github.com/your-repo/GNN_Compiler.git
```

**Pros**:
- âœ… Get everything
- âœ… Easy to update (`git pull`)
- âœ… All paths work automatically

**Cons**:
- âŒ Download all files (but only ~5 MB)

---

### Option 2: Download ZIP

1. Go to GitHub repo
2. Click "Code" â†’ "Download ZIP"
3. Extract to your directory

**Pros**:
- âœ… No git needed
- âœ… Get everything

**Cons**:
- âŒ Manual update needed

---

### Option 3: Sparse Checkout (Advanced)

Only download specific directories:

```bash
git clone --filter=blob:none --no-checkout https://github.com/your-repo/GNN_Compiler.git
cd GNN_Compiler
git sparse-checkout init --cone
git sparse-checkout set executer compiler/utils
git checkout
```

**Pros**:
- âœ… Only download what you need

**Cons**:
- âŒ Complex for beginners
- âŒ May miss dependencies

---

## Quick Reference Table

| Want to... | Need | Files | Size |
|-----------|------|-------|------|
| **Run executor only** | `executer/` + `compiler/utils/` + `project_paths.py` + `compilation_result.json` | ~20 | <500 KB |
| **Run compiler only** | `compiler/` + `profiling/results/` + `project_paths.py` | ~30 | <1 MB |
| **Run complete pipeline** | All files | ~100 | <5 MB |
| **Read documentation** | `*.md` files | ~10 | <500 KB |
| **Study code** | `*.py` files | ~60 | <2 MB |

---

## Missing Files?

### If `compilation_result.json` is missing:

```bash
# Run compiler to generate it
cd compiler
python test_compiler_flickr.py
```

### If `lookup_table.json` is missing:

```bash
# Run profiling to generate it
cd profiling
python profile_stages.py --all
```

### If dataset is missing:

**Don't worry!** PyTorch Geometric will auto-download when you first run:
```python
from torch_geometric.datasets import Flickr
dataset = Flickr(root='data/Flickr')  # Auto-downloads
```

---

## Minimal Working Example

**Absolute minimum to test executor**:

```bash
# Download these files manually:
GNX_final/
â”œâ”€â”€ project_paths.py
â”œâ”€â”€ compiler/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ graph_loader.py
â”‚   â””â”€â”€ output/
â”‚       â””â”€â”€ compilation_result.json     # From someone who ran compiler
â””â”€â”€ executer/
    â””â”€â”€ (all .py files)
```

**Total**: 15 files, <400 KB

Then:
```bash
pip install torch torch-geometric torch-scatter onnxruntime numpy
cd executer
python test_executor.py
```

---

## Summary

### Recommended Approach ðŸŒŸ

**Just clone the entire repo!**

```bash
git clone https://github.com/your-repo/GNN_Compiler.git
cd GNN_Compiler
pip install torch torch-geometric torch-scatter onnxruntime numpy scipy networkx metis
python run_pipeline.py
```

**Size**: <5 MB (trivial)
**Benefit**: Everything works, no missing files
**Time**: <2 minutes

---

### Alternative: Minimal Download

If you **really** only want to test executor and already have `compilation_result.json`:

1. Download `project_paths.py`
2. Download entire `executer/` folder
3. Download `compiler/utils/graph_loader.py`
4. Have `compilation_result.json` ready

But honestly, **just clone the whole repo** - it's only 5 MB! ðŸ˜Š

---

## Need Help?

See:
- `README.md` - Main documentation
- `PATH_INTEGRATION.md` - How modules work together
- `executer/README.md` - Executor details
- `compiler/README.md` - Compiler details
