# Dummy Data Generation 参数分析

基于 Flickr、Reddit2、ogbn-products 三个真实数据集的分区结果，确定 profiling 测试的 dummy data 生成参数范围。

## 1. 三个数据集的统计概览

| 数据集 | 总节点 | 总边数 | 平均度数 | 满足 ≤100k Owned 的 K 值 |
|--------|--------|--------|----------|--------------------------|
| Flickr | 89,250 | 899,756 | ~10.1 | 任意 K（总节点 < 100k） |
| Reddit2 | 232,965 | 23,213,838 | ~199.3 | K ≥ 3 |
| ogbn-products | 2,449,029 | 123,718,280 | ~101.0 | K ≥ 25 |

## 2. Owned Node 数量范围 (≤100k)

| 数据集 | K 值范围 | Owned Node 范围 |
|--------|----------|-----------------|
| Flickr | K=1~20 | 4,332 ~ 89,250 |
| Reddit2 | K=3~20 | 11,308 ~ 77,656 |
| ogbn-products | K=25~35 | 67,930 ~ 100,904 |

### 详细分区数据

**Flickr (K=1~20):**
| K | Owned Node 范围 |
|---|-----------------|
| 1 | 89,250 |
| 5 | 17,850 |
| 10 | 8,664 ~ 9,193 |
| 15 | 5,776 ~ 6,127 |
| 20 | 4,332 ~ 4,596 |

**Reddit2 (K=3~20):**
| K | Owned Node 范围 |
|---|-----------------|
| 3 | 77,654 ~ 77,656 |
| 5 | 46,592 ~ 46,594 |
| 10 | 22,616 ~ 23,996 |
| 15 | 14,917 ~ 15,997 |
| 20 | 11,308 ~ 11,998 |

**ogbn-products (K=25~35):**
| K | Owned Node 范围 |
|---|-----------------|
| 25 | 95,103 ~ 100,904 |
| 27 | 88,058 ~ 93,430 |
| 30 | 79,251 ~ 84,087 |
| 33 | 72,047 ~ 76,443 |
| 35 | 67,930 ~ 72,074 |

## 3. Edge/Node 比例分析

### 全局平均 Edge/Node 比例

| 数据集 | Edge/Node 比例 | 计算方式 |
|--------|---------------|----------|
| Flickr | 10.1 | 899,756 / 89,250 |
| Reddit2 | 99.6 | 23,213,838 / 232,965 |
| ogbn-products | 50.5 | 123,718,280 / 2,449,029 |

### 分区后 Internal Edges / Owned Nodes 比例

**Flickr (稀疏图):**
| K | Internal Edge/Owned Node 范围 | 典型值 |
|---|------------------------------|--------|
| 1 | 10.1 | 10.1 |
| 10 | 8.5 ~ 11.0 | ~9.5 |
| 20 | 8.2 ~ 11.7 | ~10 |

**Reddit2 (密集图):**
| K | Internal Edge/Owned Node 范围 | 典型值 |
|---|------------------------------|--------|
| 3 | 83 ~ 98 | ~90 |
| 5 | 72 ~ 125 | ~85 |
| 10 | 61 ~ 125 | ~85 |

**ogbn-products (中等密度):**
| K | Internal Edge/Owned Node 范围 | 典型值 |
|---|------------------------------|--------|
| 2 | 39 ~ 60 | ~50 |
| 5 | 37 ~ 61 | ~48 |
| 25 | 40 ~ 60 (估计) | ~50 |

### Edge/Node Ratio 分布总结

| 数据集 | Edge/Node Ratio 范围 | 典型值 | 图类型 |
|--------|---------------------|--------|--------|
| Flickr | 8 ~ 12 | ~10 | 稀疏图 |
| ogbn-products | 40 ~ 60 | ~50 | 中等密度 |
| Reddit2 | 60 ~ 125 | ~100 | 密集图 |

## 4. Profiling 测试推荐范围

### Node 数量测试点

基于三个数据集的实际分区范围，推荐以下测试点：

| 测试点 | 节点数 | 对应场景 |
|--------|--------|----------|
| 1 | 5,000 | Flickr 高 K 值分区 (K≥18) |
| 2 | 10,000 | Flickr/Reddit2 中高 K 值分区 |
| 3 | 20,000 | Reddit2 中等 K 值分区 (K=10~12) |
| 4 | 50,000 | Reddit2 低 K 值 / ogbn-products 高 K 值 |
| 5 | 80,000 | ogbn-products 典型分区 (K=28~32) |
| 6 | 100,000 | ogbn-products 最大允许分区 (K=25) |

### Edge/Node Ratio 测试点

在实际数据集范围内（10~100）设置测试点，重点关注 50 附近：

| 测试点 | Ratio | 对应场景 |
|--------|-------|----------|
| 1 | 10 | 稀疏图，Flickr 典型值 |
| 2 | 25 | 中等稀疏 |
| 3 | 40 | 中等密度，接近 ogbn-products 下限 |
| 4 | 50 | ogbn-products 典型值 |
| 5 | 60 | ogbn-products 上限 |
| 6 | 75 | 较密集，介于 ogbn-products 和 Reddit2 之间 |
| 7 | 100 | 密集图，Reddit2 典型值 |

## 5. 测试组合矩阵

### 完整测试矩阵

| Node \ Ratio | 10 | 25 | 40 | 50 | 60 | 75 | 100 |
|--------------|----|----|----|----|----|----|-----|
| 5k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 10k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 20k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 50k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 80k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 100k | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

**完整测试组合数**: 6 × 7 = **42 组**

### 重点测试组合（覆盖实际数据集场景）

| 组合 | Nodes | Ratio | 边数 | 对应数据集场景 |
|------|-------|-------|------|----------------|
| F1 | 5,000 | 10 | 50,000 | Flickr K=18~20 |
| F2 | 20,000 | 10 | 200,000 | Flickr K=4~5 |
| F3 | 80,000 | 10 | 800,000 | Flickr K=1~2 |
| R1 | 20,000 | 100 | 2,000,000 | Reddit2 K=10~12 |
| R2 | 50,000 | 100 | 5,000,000 | Reddit2 K=4~5 |
| R3 | 80,000 | 100 | 8,000,000 | Reddit2 K=3 |
| O1 | 70,000 | 50 | 3,500,000 | ogbn-products K=35 |
| O2 | 85,000 | 50 | 4,250,000 | ogbn-products K=29 |
| O3 | 100,000 | 50 | 5,000,000 | ogbn-products K=25 |

**重点测试组合数**: 9 组

### 边界与压力测试组合

| 组合 | Nodes | Ratio | 边数 | 测试目的 |
|------|-------|-------|------|----------|
| MIN | 5,000 | 10 | 50,000 | 最小规模 |
| MAX | 100,000 | 100 | 10,000,000 | 最大规模 |
| DENSE_SMALL | 5,000 | 100 | 500,000 | 小图高密度 |
| SPARSE_LARGE | 100,000 | 10 | 1,000,000 | 大图低密度 |

## 6. 参数范围总结

| 参数 | 最小值 | 最大值 | 步进建议 |
|------|--------|--------|----------|
| Nodes | 5,000 | 100,000 | 指数增长: 5k, 10k, 20k, 50k, 80k, 100k |
| Edge/Node Ratio | 10 | 100 | 重点关注50附近: 10, 25, 40, 50, 60, 75, 100 |
| Total Edges | 50,000 | 10,000,000 | 由 Nodes × Ratio 决定 |

## 7. 实现注意事项

1. **生成随机图时确保连通性**：使用 Erdős–Rényi 模型或类似方法时，确保生成的图是连通的

2. **边数计算**：`Total Edges = Nodes × Edge/Node Ratio`

3. **内存估算**：
   - Edge list 存储: `Edges × 2 × 4 bytes` (int32 src, dst)
   - 最大配置 (100k nodes, ratio=100): ~80MB edge list

4. **特征维度**：参考原数据集
   - Flickr: 500
   - Reddit2: 602
   - ogbn-products: 100

---

*基于 Flickr、Reddit2、ogbn-products 分区实验结果生成*
